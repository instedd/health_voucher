%h1 Reports

= render partial: 'shared/reports_tabs'

%h2 Most frequently accessed health services

.report-grouping
  = form_tag reports_services_path, id: 'report_grouping_form', method: "get", remote: true do |f|
    .report-grouping-option
      %input#by_site(type="radio" name="by" value="site" checked="checked")
      %label(for="by_site") by site
    .report-grouping-option
      %input#by_clinic(type="radio" name="by" value="clinic")
      %label(for="by_clinic") by clinic in
      = select_tag :site_id, sites_for_select(params[:site_id]), :class => 'w20 site', :disabled => params[:by] != 'clinic'
    .report-grouping-option.right
      %label(for="month") for month
      = select_month(params[:month].to_i, {}, name: 'month', id: 'month')
      = select_year(params[:year].to_i, { start_year: 2013, end_year: Date.today.year }, name: 'year', id: 'year')

#report_container
  = render partial: 'services'

:javascript
  $(function() { onReportsServices(); });

